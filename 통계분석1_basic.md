# <통계분석의 흐름>

## 1. 통계 자료 획득

### 표본조사

- 모집단: 집단 전체
- 원소: 모집단의 구성
- 표본: 일부 원소
- 모수: 모집단의 정보

### 표본추출

- 단순 랜덤 추출법 (simple random sampling)
- 계통 추출법 (systematic sampling)
- 집락 추출법(cluster random sampling)
- 층화 추출법(stratified random sampling)

### 표본측정

- 명목척도: 집단 
- 순서척도: 서열관계
- 구간(등간)척도: 간격에 의미
- 비율척도: 절대적 기준 0, 사칙연산

## 2. 통계 분석

### 기술통계

표, 그림, 통계량

### 통계적 추론

- 모수 추정: 표본집단에서 모집단 모수 분석
- 가설검증: 옳은지 그른지 검정
- 예측: 효율적인 의사결정에 활용

## 3. 확률 계산

### 확률공간

표본공간, 사건공간, 확률측도로 이루어진 공간

- 표본공간: 표본추출이나 확률 실험을 통해 얻어지는 모든 가능한 결과물
- 사건공간(F): 표본공간의 부분집합
- 확률 측도(P): 사건공간에 숫자를 대응시킨 함수. 확률값.

### 확률분포

확률변수가 어떤 값을 가질지에 대한 확률을 나열한 표/그림/함수식

### 확률변수

확률적인 결과에 따라 결과값이 바뀌는 변수.
표본 공간의 각 사건공간에 실수 값을 부여하는 함수.

#### 이산형 확률변수

확률변수 X가 가질수 있는 값의 범위가 이산적(셀수있는)
ex) 총 학생 수 -> 0, 1, 2, 3, ...n명으로 셀수 있음. 2.5명은 불가능.

<확률 분포의 종류>

- 베르누이 확률분포: 결과가 2개(동전 던지기 등)
- 이항분포: n번 반복했을때 k번 성공할 확률
- 기하분포: 첫번째 성공까지 x번 실패할 확률
- 다항분포: 세가지 이상의 결과를 가진 반복시행에서 발생하는 확률 분포
- 포아송분포: 발생하는 사건의 횟수에 대한 확률분포

#### 연속형 확률변수

확률변수 X가 가질수 있는 값의 범위가 연속적(셀수없는)
ex) 마시는 물의 양 -> 0, 10, 22.54ml 등 무한한 경우의 수가 있어 셀수 없음.

<확률분포의 종류>

- 균일분포: 모든 확률변수 X가 균일한 확률을 가지는 확률분포
- 정규분포: 평균, 표준편차를 지닌 확률밀도함수
- 지수분포: 사건 발생까지의 경과시간에 대한 분포
- **t-분포**: t-검정을 통해 두 집단의 평균이 동일한지 검정하는 분포
  [t-검정 상세설명](통계분석2_t-distribution.md)
- 카이제곱 분포: 두 집단의 동질성 검정
- F-분포: 두 집단의 분산 동일성 검정

## 4. 추정

표본으로부터 미지의 모수를 추측

#### 추정량(estimator)

모수를 추정할 수 있으리라 여겨지는 통계량의 후보들,

#### 추정치(estimate)

실제 표본추출 결과 얻어진 추정량의 관찰값

#### 점추정

좋은 추정량의 기준.
모수가 특정한 값일 것이라 추정하는 것.

#### 구간추정

표본으로부터 모수 추측

- 점 추정: 모수가 특정 값이라고 가정
- 구간추정: 모수가 특정 구간에 있을것이라 가정

## 5. 검정

- 모수적 방법: 모집단의 분포를 가정
- 비모수적 방법: 모집단에 제약없음. 자료수가 적거나 서열관계

## 6. 가설

### 귀무가설(영가설, H<sub>0</sub>)

'동일하다', '차이가 없다', '존재하지 않는다', '효과가 없다', '새롭지 않다', '변화가 없다' 등의 관습적이고 보수적이며 관행적으로 참이라고 받아들여지는, 증명의 부담이 큰 가설.

ex) 모든 백조는 흰색이다. -> 세상의 모든 백조를 조사해야함. 이는 부담이 크지만 보통 관행적으로 참으로써 받아들여짐.

### 대립가설(연구가설, H<sub>1</sub>)

귀무가설의 주장에 대해 '동일하지 않다', '차이가 있다', '존재한다', '효과가 있다', ' 새로운 것이다', '변화했다' 등의 지금까지 알려지지 않았던 새로운 주장에 속하며 존재 자체로 귀무가설에 대한 검정을 촉발한다.
이 가설이 힘을 잃는 경우 '귀무가설을 기각할 이유가 없다' 고 돌아간다.
(단 또다른 대립가설의 가능성이 있기에 '귀무가설을 채택한다'가 아님)

ex) 모든 백조가 흰색은 아니다 -> 단 한마리의 이색 백조를 찾으면 됨. 

### 관계

귀무가설과 대립가설은 상호배타적이며 포관적인 관계에 있다.

- 귀무가설을 기각 = 대립가설 자동 채택(상호배타성)
- 귀무가설과 대립가설 양쪽 모두 채택되지 않는 경우는 없다(포괄성)

### 가설 분석의 오류

#### 1종 오류

참인 귀무가설을 기각하는 오류

ex) 화재가 발생했는데 경보를 울리지 않음

#### 2종 오류

거짓인 귀무가설을 받아들이는 오류

ex) 화재가 발생하지 않았는데 경보를 울림

#### 검정통계량



#### 유의수준(α)

귀무가설을 기각할 확률의 크기(1종 오류를 범할 확률)
관행적으로 0.05를 기준으로 함.

- 기각역: 귀무가설이 기각되기위한 범위

# <기초 통계 분석>

## 1. 통계자료

### 대푯값

#### 중심위치

- 산술평균: 자료값들의 평균. 표본평균, 모평균.
- 중앙값: (n+1)/2  번째 값
- 최빈값: 가장 많이 나온 자료값

#### 사분위수

- Q1: (Q2의 위치값 + 1)/2 번째 값 = 25 백분위수
- Q2: 중앙값 = 50 백분위수
- Q3: (Q2의 위치값 + 전체자료갯수)/2 = 75 백분위수

ex) 총 14개의 자료가 있을경우 
Q2 = 7.5번째 값
Q1 = (7.5+1)/2 = 4.25 번째 값
Q3 = (7.5+14)/2 = 10.75 번째 값 

#### 백분위수

자료를 크기순으로 나열했을 때 x%인 관측값

#### 절사평균

관측값의 양쪽에서 일정 비율 α의 이상점을 버리고 나머지 관측값들만으로 낸 평균

#### 이상점(극단값)

다른 자료와는 극단적으로 다른 값

#### 기댓값

가능한 값 마다 확률을 곱해서 모두 더한 값. 평균과 거의 같음

### 산포도

#### 범위

최댓값 - 최소값

#### 분산

- 모분산(σ<sup>2</sup>): 관측값에서 모평균을 빼고 제곱한 값의 총합을 전체 자료수로 나눈값

- **표본분산(S<sup>2</sup>)**: 관측값에서 표본평균을 빼고 제곱한 값의 총합을 전체 자료수 -1 로 나눈값

#### 표준편차

자료의 관측값이 얼마나 흩어져 있는가.

- 모 표준편차(σ): 모 분산의 제곱근
- **표본 표준편차(S)**: 표본 분산의 제곱근

#### 사분위수 범위(IQR)

Q3-Q1

#### 변동계수

표준편차를 평균으로 나눈 값

#### 표준오차

표준편차를 자료수의 제곱근으로 나눈 값

### 분포의 형태

| 분류 | 의미        | m > 0           | m = 0     | m < 0             |
| ---- | ----------- | --------------- | --------- | ----------------- |
| 왜도 | 비대칭 정도 | 왼쪽으로 치우침 | 좌우 대칭 | 오른쪽으로 치우침 |
| 첨도 | 뾰족한 정도 | 더 뾰족함       | 유사함    | 덜 뾰족함         |

### 그래프

- 히스토그램
- 막대그래프
- 줄기-잎 그림
- **상자그림(Box plot)**
  사용 : 최소값, Q1, Q2, Q3, 최대값
  안울타리: Q1 + 1.5 IQR or Q3 - 1.5 IQR
  바깥울타리: Q1 + 3 IQR or Q3 + 1.5 IQR
  보통이상점: 안쪽 울타리와 바깥 울타리 사이 자료
  극단이상점: 바깥 울타리 밖 자료

## 2. 인과관계

### 종속변수

다른 변수의 영향을 받음

### 독립변수

영향을 줌

### 산점도

점으로 표현한 그래프

### 공분산

두 확률변수 간 선형관계를 나타냄.
두 개의 확률 변수의 흩어진 정도.

- \+ : 양의 방향성
- \-  : 음의 방향성
- 0 : 독립(방향성 없음)

## 3. 상관분석

상관계수를 활용하여 상관관계를 알아보는 분석법.

- 1종오류: 맞는걸 틀리게
- 2종오류: 틀린걸 맞게

### 피어슨 상관계수 γ

전체 편차 내에서 예측치와 평균 간의 차이가 차지하는 비율
등간척도 이상으로 측정된 두 변수들의 상관관계 측정방식
가장 보편적으로 사용됨

간단 설명
$$
편차 = 평균과 예측값 간의 차이 + 예측값과 실제 값의 차이
$$
전자가 어느 정도의 비율을 차지하는지 계산하여 상관관계 판단

### 스피어만 상관계수 ρ

서열척도인 두 변수들의 상관관계 측정방식
순위기준 측정
순위상관계수

# <회귀분석>

독립변수들이 종속변수에 미치는 영향을 추정하는 통계기법



## 선형회귀분석

[R 프로그래밍 정리](R3_linear_regression.md)

### 변수

- 영향을 받는 변수: 반응, 종속, 결과 변수
- 영향을 주는 변수: 설명, 독립, 예측 변수

### 가정

- 선형성: 입력, 출력 변수간 관계가 선형
- 등분산성: 오차의 분산이 입력변수와 관계없이 일정
- 독립성: 입력변수와 오차는 관계가 없음
- 비상관성: 오차들끼리 상관 없음
- 정상(정규)성: 오차의 분포는 정규분포를 따름

### 단순선형회귀분석

독립변수가 하나

선형성 검정

### 다중선형회귀분석

독립변수가 2개 이상

선형성, 등분산성, 독립성, 정상성 모두 검정

### 최적회귀방정식

#### 전진선택법

중요하다고 생각되는 설명변수부터 차례로 모형에 추가
변수의 개수가 많은 경우에도 사용가능하지만 안정성이 부족

#### 후진제거법

가장 적은 영향을 주는 변수부터 하나씩 제거
전체변수의 정보를 이용하는 장점이 있지만 변수의 개수가 많으면 사용하기 어려움.



